# CLAUDE.md - AI 助理開發指南

**Repository**: Silicon-Sampling-skill
**Purpose**: 心理學量表預試階段專用的 Silicon Sampling 技能
**Version**: 2.0-pretest
**Last Updated**: 2026-01-22

---

## 專案概述

此 Skill 專為**心理學量化研究的預試階段**設計，透過生成具有完整成長經驗背景的細緻 persona，模擬目標母群在自陳式量表上的填答反應。

### 核心理念

1. **專注預試**：樣本數設計為 30-60 人，符合量表編製預試需求
2. **細緻 Persona**：每個 persona 都有完整的成長經驗敘事（150-300 字）
3. **三層填答推理**：成長經驗 → 人格特質 → 情境因素
4. **心理學真實性**：確保人格-經驗-填答的一致性
5. **填答認知歷程**：捕捉 persona 對題目的想法、疑問與內心反應

### 主要語言

- **技能指令**：繁體中文 (zh-TW)
- **目標使用者**：台灣心理學研究者

---

## 檔案結構

```
Silicon-Sampling-skill/
├── SKILL.md          # ⭐ 核心技能定義檔（最重要）
├── README.md         # 使用者說明文件
├── CLAUDE.md         # AI 助理開發指南（本檔案）
├── LICENSE           # MIT 授權
└── examples/         # 範例檔案
    ├── population_tw_college.json      # 台灣大學生母群
    ├── population_general_adult.json   # 台灣成年人母群
    ├── big_five_bfi10.json             # BFI-10 量表
    ├── phq9.json                       # PHQ-9 量表
    └── sample_output.csv               # 輸出範例
```

---

## 關鍵規則（必須遵守）

### 🚫 絕對禁止

1. **不可使用腳本生成 Persona**
   - 每個 persona 必須透過深思熟慮的推理來建構
   - 成長經驗敘事必須能合理解釋人格特質的形成
   - 原因：腳本會產生缺乏心理學連貫性的人為模式

2. **不可使用隨機數填答**
   - 每個填答必須經過三層架構推理
   - 填答必須與人格特質和成長經驗一致
   - 原因：隨機生成會產生統計上不一致的數據

### ✅ 必須遵守

1. **遵循七步驟工作流程**
2. **確保成長經驗與特質的連貫性**
3. **確保跨題目填答一致性**
4. **維持母群分布的正確性**
5. **認知歷程需具特殊性**（不是每人每題都有想法，約 10-30% 的題目才會產生）

---

## 細緻 Persona 結構

每個 persona 必須包含以下完整內容：

### 基本資料
- 代號（R001, R002...）
- 年齡、性別、教育程度
- 職業、居住狀況

### NEO-PI-R 30 構面人格剖面（PR 1-100, 50=平均）

| 向度 | 構面 |
|------|------|
| 神經質 N | N1焦慮, N2憤怒敵意, N3憂鬱, N4自我意識, N5衝動, N6脆弱 |
| 外向性 E | E1熱情, E2合群, E3獨斷, E4活力, E5尋求刺激, E6正向情緒 |
| 開放性 O | O1想像, O2審美, O3感受, O4嘗試, O5理念, O6價值 |
| 親和性 A | A1信任, A2坦誠, A3利他, A4順從, A5謙虛, A6溫柔 |
| 盡責性 C | C1勝任感, C2條理, C3責任, C4追求成就, C5自律, C6深思熟慮 |

### 成長經驗敘事（150-300 字）

必須涵蓋：
- 原生家庭背景與教養風格
- 重要成長經驗或轉折事件
- 人際關係模式的形成
- 自我概念與價值觀發展
- 當前生活情境與主要壓力源

### 填答傾向摘要
- 基於經驗與特質的填答預測
- 可能的反應風格（中央趨勢、社會期許等）

---

## 填答推理三層架構

對每個題目，依序考慮：

### 第一層：成長經驗
根據 persona 的成長經驗敘事推論填答傾向

```
例：「我經常擔心自己的表現會被他人批評」

成長經驗參照：
- 國中時期曾被同學嘲笑 → 對他人評價敏感
→ 傾向選擇「同意」
```

### 第二層：人格特質
根據相關的 NEO-PI-R 構面調整填答

```
相關構面：N4 自我意識 = 65（偏高）
→ 強化選擇「同意」的傾向
```

### 第三層：情境與反應風格
考慮以下因素：
- 中央趨勢（大多數人傾向中間選項）
- 默許反應（某些人傾向同意）
- 社會期許（敏感題目的偏誤）
- 教育程度對理解的影響

---

## 填答認知歷程

捕捉 persona 在填答特定題目時的內心運作，類似於認知訪談。

### 認知歷程類型
| 類型 | 說明 |
|------|------|
| 題目理解 | 對語意的解讀、可能的誤解 |
| 經驗連結 | 題目觸發的個人經驗或記憶 |
| 情緒反應 | 填答時的情緒感受 |
| 選項猶豫 | 在選項間的掙扎與考量 |
| 疑問困惑 | 對題目的疑問或不理解 |
| 社會期許 | 意識到「正確答案」的壓力 |

### 特殊性原則（重要）
- **不是每題都記錄**：預估每個 persona 只對 10-30% 的題目產生認知歷程
- **個體差異**：高 O3/O5 者可能產生更多認知歷程；低 C6 者較少深度反思
- **題目差異**：語意模糊、敏感、反向題較易引發認知歷程
- **真實性**：認知歷程的語氣應符合 persona 的特性（如教育程度）

---

## 輸出檔案格式

### 1. responses.csv
寬格式填答資料，每列一個 persona

### 2. personas.csv
人口統計 + 30 構面數值

### 3. persona_narratives.md
完整的成長經驗敘事（Markdown 格式）

### 4. cognitive_feedback.md
填答認知歷程彙整報告，包含：
- 依題目彙整：每題引發的認知歷程與常見問題模式
- 依類型彙整：題目理解、經驗連結、社會期許等統計
- 優先關注題目：根據回饋數量與問題嚴重度排序
- 量表整體評估建議

### 5. summary.yaml
摘要統計、認知回饋摘要、預試品質建議

---

## 開發修改指引

### 修改 SKILL.md

1. 先完整閱讀 SKILL.md 了解現有結構
2. 識別要修改的具體章節
3. 進行針對性的編輯
4. 同步更新 README.md（若影響使用者）
5. 提交清楚的 commit message

### 新增範例檔案

1. 遵循 `examples/` 中的既有 JSON 格式
2. 確保所有必要欄位都存在
3. 更新 README.md 的檔案結構說明

### Git 操作

```bash
# 查看狀態
git status

# 提交修改
git add SKILL.md README.md
git commit -m "feat: 描述修改內容"

# 推送到分支
git push -u origin claude/[branch-name]
```

---

## 常見問題排解

### Persona 缺乏多樣性
- 確保遵循母群分布比例
- 包含各種人格組合，不只是「平均人」
- 背景經驗要有變化（不同家庭、不同經歷）

### 填答看起來太隨機
- 檢查是否遵循三層架構推理
- 確認人格特質有實際影響填答
- 相關題目應有一致的填答傾向

### 成長經驗與特質不一致
- 經驗敘事應能解釋特質的形成
- 避免矛盾的經驗-特質組合
- 例：創傷經驗通常會影響神經質相關構面

### 跨題目一致性問題
- 測量相同構念的題目應有類似填答
- 正向題與反向題要邏輯一致
- 高焦慮者應在所有焦慮相關題目都偏高

### 認知歷程過於均勻
- 不應該每個 persona 對每題都有認知歷程
- 確保只有 10-30% 的題目引發認知歷程
- 認知歷程應該與 persona 特性（人格、教育程度）有關

### 認知歷程缺乏多樣性
- 不同 persona 應產生不同類型的認知歷程
- 高教育程度者的想法應較為複雜
- 低教育程度者的表達應較為口語化

---

## 版本紀錄

### v2.1-pretest (2026-01-22)
**新增：填答認知歷程功能**

- 新增：填答認知歷程記錄（Step 6）
- 新增：cognitive_feedback.md 輸出檔案
- 新增：認知歷程彙整報告（依題目、依類型）
- 新增：summary.yaml 認知回饋摘要區塊
- 更新：工作流程由六步驟改為七步驟

### v2.0-pretest (2026-01-22)
**重大更新：專注於預試階段**

- 新增：成長經驗敘事（150-300 字）
- 新增：三層填答推理架構
- 新增：persona_narratives.md 輸出
- 調整：樣本數建議為 30-60 人
- 移除：references 資料夾（簡化結構）
- 更新：所有文件改為繁體中文

### v1.0 (Earlier)
- 初始版本
- NEO-PI-R 30 構面模型
- 基本填答模擬功能
- 支援大量樣本（1-100）
