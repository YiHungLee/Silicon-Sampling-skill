name: psychology-survey
version: 2.0.0
description: |
  Silicon Sampling skill for completing self-report psychological questionnaires.
  Simulates human respondents based on population characteristics to fill out Likert-scale surveys.
  Features interactive workflow to collect population definition and sample size.

author: Psychology Research Team
license: MIT

# Skill configuration
config:
  # Default response mode
  mode: simulate_human

  # Default Likert scale settings
  likert:
    min: 1
    max: 5
    labels:
      1: "非常不同意"
      2: "不同意"
      3: "中立"
      4: "同意"
      5: "非常同意"

  # Output settings
  output:
    format: csv
    include_metadata: true
    include_persona_details: true

# Workflow steps
workflow:
  - step: collect_population
    description: "收集母群定義（若未指定則詢問使用者）"
    required: true

  - step: collect_sample_size
    description: "收集樣本數量（若未指定則詢問使用者）"
    required: true

  - step: collect_questionnaire
    description: "收集量表題目"
    required: true

  - step: generate_personas
    description: "根據母群特徵自動生成指定數量的 persona"

  - step: simulate_responses
    description: "根據每個 persona 模擬填答行為"

  - step: output_csv
    description: "輸出 CSV 格式結果"

# Input schema
input:
  population:
    type: object
    required: true
    description: "目標母群定義"
    properties:
      name:
        type: string
        description: "母群名稱（例如：台灣大學生、美國上班族）"
      age_range:
        type: object
        properties:
          min: { type: integer }
          max: { type: integer }
          distribution: { type: string, enum: [uniform, normal, skewed_young, skewed_old] }
        description: "年齡範圍與分布"
      gender_distribution:
        type: object
        description: "性別分布比例"
        properties:
          male: { type: number }
          female: { type: number }
          non_binary: { type: number }
      education_distribution:
        type: object
        description: "教育程度分布"
      occupation_types:
        type: array
        items: { type: string }
        description: "常見職業類型"
      cultural_background:
        type: string
        description: "文化背景"
      personality_tendencies:
        type: object
        description: "母群的人格特質傾向（Big Five 各維度的平均與變異）"
      additional_characteristics:
        type: string
        description: "其他母群特徵描述"

  sample_size:
    type: integer
    required: true
    minimum: 1
    maximum: 100
    description: "需要生成的樣本數量"

  questionnaire:
    type: object
    required: true
    description: "量表題目"
    properties:
      name:
        type: string
      instruction:
        type: string
      scale:
        type: object
      items:
        type: array

# Output schema
output:
  responses:
    type: file
    format: csv
    description: "填答結果 CSV 檔案"
    columns:
      - respondent_id
      - item_id
      - response
      - response_time_ms

  personas:
    type: file
    format: csv
    description: "生成的 persona 詳細資料"
    columns:
      - respondent_id
      - age
      - gender
      - education
      - occupation
      - extraversion
      - agreeableness
      - conscientiousness
      - neuroticism
      - openness

  summary:
    type: object
    description: "填答摘要統計"

# Prompt file
prompt: prompt.md

# Examples
examples:
  - name: "台灣大學生母群 + BFI-10"
    population_file: examples/population_tw_college.json
    questionnaire_file: examples/big_five_bfi10.json
  - name: "一般成人母群 + PHQ-9"
    population_file: examples/population_general_adult.json
    questionnaire_file: examples/phq9.json
